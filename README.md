# –ê–°–û–ü–ë –ü—Ä–æ—Ç–æ—Ç–∏–ø ‚Äî –°–∏—Å—Ç–µ–º–∞ –ø–æ–∂–∞—Ä–Ω–æ–π –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –û—Ç–∫—Ä—ã—Ç—å –ø—Ä–æ—Ç–æ—Ç–∏–ø

–ü—Ä–æ—Å—Ç–æ –æ—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª `index.html` –≤ –±—Ä–∞—É–∑–µ—Ä–µ:

```bash
# Windows: –¥–≤–æ–π–Ω–æ–π –∫–ª–∏–∫ –ø–æ index.html
# –ò–ª–∏ —á–µ—Ä–µ–∑ –∫–æ–Ω—Å–æ–ª—å:
start index.html

# macOS:
open index.html

# Linux:
xdg-open index.html
```

### 2. –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π —Å–ø–æ—Å–æ–± (Live Server)

–î–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π —Ä–∞–±–æ—Ç—ã OAuth –∏ API —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ª–æ–∫–∞–ª—å–Ω—ã–π —Å–µ—Ä–≤–µ—Ä:

**–í–∞—Ä–∏–∞–Ω—Ç A: Python**
```bash
# Python 3
python -m http.server 8000

# –ó–∞—Ç–µ–º –æ—Ç–∫—Ä–æ–π—Ç–µ: http://localhost:8000
```

**–í–∞—Ä–∏–∞–Ω—Ç B: Node.js (http-server)**
```bash
npm install -g http-server
http-server -p 8000

# –ó–∞—Ç–µ–º –æ—Ç–∫—Ä–æ–π—Ç–µ: http://localhost:8000
```

**–í–∞—Ä–∏–∞–Ω—Ç C: VS Code Live Server**
1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ "Live Server"
2. –ù–∞–∂–º–∏—Ç–µ –ø—Ä–∞–≤–æ–π –∫–Ω–æ–ø–∫–æ–π –Ω–∞ index.html ‚Üí "Open with Live Server"

---

## üîê –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –Ø–Ω–¥–µ–∫—Å.–î–∏—Å–∫–∞

### –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è OAuth –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –≤ –Ø–Ω–¥–µ–∫—Å–µ

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ https://oauth.yandex.ru/client/new
2. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
3. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ –¥–∞–Ω–Ω—ã–µ:
   - **–ù–∞–∑–≤–∞–Ω–∏–µ**: –ê–°–û–ü–ë
   - **–ü–ª–∞—Ç—Ñ–æ—Ä–º–∞**: –í–µ–±-—Å–µ—Ä–≤–∏—Å—ã
   - **Redirect URI**: `http://localhost:8000` (–∏–ª–∏ –≤–∞—à URL)
   - **–†–∞–∑—Ä–µ—à–µ–Ω–∏—è**: 
     - ‚úì `disk:app_folder` ‚Äî –¥–æ—Å—Ç—É–ø –∫ –ø–∞–ø–∫–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

4. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ:
   - **Client ID** (ID –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è)
   - **Client Secret** (–°–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á)

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –≤ –∫–æ–¥–µ

–û—Ç–∫—Ä–æ–π—Ç–µ `js/yandex-disk.service.js` –∏ –∑–∞–º–µ–Ω–∏—Ç–µ:

```javascript
const YANDEX_CONFIG = {
  clientId: 'YOUR_CLIENT_ID',        // –í—Å—Ç–∞–≤—å—Ç–µ –≤–∞—à Client ID
  clientSecret: 'YOUR_CLIENT_SECRET', // –í—Å—Ç–∞–≤—å—Ç–µ –≤–∞—à Client Secret
  redirectUri: window.location.origin + '/auth/yandex/callback',
  rootFolder: 'ASOPB'
};
```

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
asopb-html-prototype/
‚îú‚îÄ‚îÄ index.html              # –ì–ª–∞–≤–Ω—ã–π HTML —Ñ–∞–π–ª
‚îú‚îÄ‚îÄ fire.svg                # Favicon
‚îú‚îÄ‚îÄ styles/
‚îÇ   ‚îî‚îÄ‚îÄ main.css           # –û—Å–Ω–æ–≤–Ω—ã–µ —Å—Ç–∏–ª–∏
‚îú‚îÄ‚îÄ js/
‚îÇ   ‚îú‚îÄ‚îÄ utils.js           # –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
‚îÇ   ‚îú‚îÄ‚îÄ yandex-disk.service.js  # –°–µ—Ä–≤–∏—Å –Ø–Ω–¥–µ–∫—Å.–î–∏—Å–∫–∞
‚îÇ   ‚îú‚îÄ‚îÄ local-cache.service.js  # –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ (IndexedDB)
‚îÇ   ‚îú‚îÄ‚îÄ sync-manager.service.js # –ú–µ–Ω–µ–¥–∂–µ—Ä —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
‚îÇ   ‚îú‚îÄ‚îÄ app.js             # –û—Å–Ω–æ–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
‚îÇ   ‚îú‚îÄ‚îÄ main.js            # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞
‚îÇ   ‚îî‚îÄ‚îÄ components/
‚îÇ       ‚îî‚îÄ‚îÄ yandex-disk-connect.js  # –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
‚îî‚îÄ‚îÄ README.md              # –≠—Ç–æ—Ç —Ñ–∞–π–ª
```

---

## üéØ –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –ø—Ä–æ—Ç–æ—Ç–∏–ø–∞

### ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:

1. **–î–∞—à–±–æ—Ä–¥**
   - –°—á—ë—Ç—á–∏–∫–∏ –æ–±—ä–µ–∫—Ç–æ–≤, –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è, –ø—Ä–æ–≤–µ—Ä–æ–∫
   - –ü–æ—Å–ª–µ–¥–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è
   - –ë–ª–æ–∫ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –Ø–Ω–¥–µ–∫—Å.–î–∏—Å–∫–∞

2. **–û–±—ä–µ–∫—Ç—ã**
   - –ü—Ä–æ—Å–º–æ—Ç—Ä —Å–ø–∏—Å–∫–∞ –æ–±—ä–µ–∫—Ç–æ–≤
   - –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞
   - –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ —É–¥–∞–ª–µ–Ω–∏–µ

3. **–û–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ**
   - –¢–∞–±–ª–∏—Ü–∞ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è
   - –°—Ç–∞—Ç—É—Å—ã (–∏—Å–ø—Ä–∞–≤–Ω–æ/—Ç—Ä–µ–±—É–µ—Ç –¢–û)

4. **–ü—Ä–æ–≤–µ—Ä–∫–∏**
   - –°–ø–∏—Å–æ–∫ –ø—Ä–æ–≤–µ—Ä–æ–∫
   - –°—Ç–∞—Ç—É—Å—ã –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

5. **–ù–∞—Ä—É—à–µ–Ω–∏—è**
   - –†–µ–µ—Å—Ç—Ä –Ω–∞—Ä—É—à–µ–Ω–∏–π

6. **–Ø–Ω–¥–µ–∫—Å.–î–∏—Å–∫ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è**
   - OAuth 2.0 –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
   - –ß—Ç–µ–Ω–∏–µ/–∑–∞–ø–∏—Å—å JSON —Ñ–∞–π–ª–æ–≤
   - –õ–æ–∫–∞–ª—å–Ω–æ–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ (IndexedDB)
   - –û—á–µ—Ä–µ–¥—å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
   - –ê–≤—Ç–æ-—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –∫–∞–∂–¥—ã–µ 30 —Å–µ–∫

7. **–ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω**
   - –ú–æ–±–∏–ª—å–Ω–æ–µ –º–µ–Ω—é
   - Responsive —Å–µ—Ç–∫–∞

---

## üóÇÔ∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö –Ω–∞ –Ø–Ω–¥–µ–∫—Å.–î–∏—Å–∫–µ

–ü–æ—Å–ª–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è —Å–æ–∑–¥–∞—ë—Ç—Å—è –ø–∞–ø–∫–∞ `ASOPB/` —Å–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π:

```
ASOPB/
‚îú‚îÄ‚îÄ objects/
‚îÇ   ‚îî‚îÄ‚îÄ obj-{id}.json      # –ö–∞—Ä—Ç–æ—á–∫–∏ –æ–±—ä–µ–∫—Ç–æ–≤
‚îú‚îÄ‚îÄ equipment/
‚îÇ   ‚îî‚îÄ‚îÄ eq-{id}.json       # –ö–∞—Ä—Ç–æ—á–∫–∏ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è
‚îú‚îÄ‚îÄ inspections/
‚îÇ   ‚îî‚îÄ‚îÄ insp-{id}.json     # –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø—Ä–æ–≤–µ—Ä–æ–∫
‚îú‚îÄ‚îÄ violations/
‚îÇ   ‚îî‚îÄ‚îÄ viol-{id}.json     # –ù–∞—Ä—É—à–µ–Ω–∏—è
‚îú‚îÄ‚îÄ documents/
‚îÇ   ‚îî‚îÄ‚îÄ ...                # –î–æ–∫—É–º–µ–Ω—Ç—ã
‚îî‚îÄ‚îÄ metadata/
    ‚îî‚îÄ‚îÄ sync-status.json   # –°—Ç–∞—Ç—É—Å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
```

---

## üìù –ü—Ä–∏–º–µ—Ä JSON –æ–±—ä–µ–∫—Ç–∞

```json
{
  "id": "obj-001",
  "version": 1,
  "createdAt": "2026-02-20T10:00:00Z",
  "updatedAt": "2026-02-20T10:00:00Z",
  "data": {
    "name": "–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω–æ–µ –∑–¥–∞–Ω–∏–µ",
    "address": "–≥. –ú–æ—Å–∫–≤–∞, —É–ª. –ü—Ä–∏–º–µ—Ä–Ω–∞—è, –¥. 1",
    "classFPO": "–§4.3",
    "category": "–í1",
    "area": 1500,
    "floors": 3,
    "responsible": "–ò–≤–∞–Ω–æ–≤ –ò.–ò."
  }
}
```

---

## üêõ –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –ø—Ä–æ—Ç–æ—Ç–∏–ø–∞

1. **–ë–µ–∑ –±—ç–∫–µ–Ω–¥–∞** ‚Äî –≤—Å–µ –¥–∞–Ω–Ω—ã–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ –∏ –Ω–∞ –Ø–Ω–¥–µ–∫—Å.–î–∏—Å–∫–µ
2. **–ù–µ—Ç –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–π –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏** ‚Äî —Ç–æ–ª—å–∫–æ OAuth –Ø–Ω–¥–µ–∫—Å–∞
3. **–£–ø—Ä–æ—â—ë–Ω–Ω–∞—è –º–æ–¥–µ–ª—å –¥–∞–Ω–Ω—ã—Ö** ‚Äî –Ω–µ –≤—Å–µ —Å–≤—è–∑–∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã
4. **–ù–µ—Ç –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–≥–æ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è** ‚Äî –±–∞–∑–æ–≤—ã–µ CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏

---

## üîß –û—Ç–ª–∞–¥–∫–∞

–û—Ç–∫—Ä–æ–π—Ç–µ –∫–æ–Ω—Å–æ–ª—å —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞ (F12) –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –ª–æ–≥–æ–≤:

```javascript
// –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –Ø–Ω–¥–µ–∫—Å.–î–∏—Å–∫—É
console.log(await app.yandexDisk.isAuthenticated());

// –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫—ç—à–∞
console.log(await app.localCache.getStats());

// –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è
await app.syncManager.sync();
```

---

## üìû –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. **–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å OAuth –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ** –≤ –Ø–Ω–¥–µ–∫—Å–µ
2. **–ù–∞—Å—Ç—Ä–æ–∏—Ç—å Client ID –∏ Secret** –≤ –∫–æ–¥–µ
3. **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ** –Ø–Ω–¥–µ–∫—Å.–î–∏—Å–∫–∞
4. **–î–æ–±–∞–≤–∏—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–µ –æ–±—ä–µ–∫—Ç—ã** —á–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
5. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—é** –º–µ–∂–¥—É —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º–∏

---

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API

### YandexDiskService

```javascript
const disk = new YandexDiskService(config);

// –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
disk.getAuthUrl();                    // –ü–æ–ª—É—á–∏—Ç—å URL –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
await disk.exchangeCodeForToken(code); // –û–±–º–µ–Ω—è—Ç—å –∫–æ–¥ –Ω–∞ —Ç–æ–∫–µ–Ω
await disk.isAuthenticated();         // –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
await disk.disconnect();              // –í—ã–π—Ç–∏

// –§–∞–π–ª—ã
await disk.readFile('objects/test.json');  // –ß–∏—Ç–∞—Ç—å —Ñ–∞–π–ª
await disk.writeFile('path/file.json', data); // –ó–∞–ø–∏—Å–∞—Ç—å —Ñ–∞–π–ª
await disk.deleteFile('path/file.json');    // –£–¥–∞–ª–∏—Ç—å —Ñ–∞–π–ª
await disk.listFiles('objects');            // –°–ø–∏—Å–æ–∫ —Ñ–∞–π–ª–æ–≤
await disk.fileExists('path/file.json');    // –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è
```

### LocalCacheService

```javascript
const cache = new LocalCacheService();

await cache.init();                    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è IndexedDB
await cache.get('objects', 'id');      // –ü–æ–ª—É—á–∏—Ç—å –∑–∞–ø–∏—Å—å
await cache.set('objects', entry);     // –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∑–∞–ø–∏—Å—å
await cache.getAll('objects');         // –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ –∑–∞–ø–∏—Å–∏
await cache.getStats();                // –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
```

### SyncManagerService

```javascript
const sync = new SyncManagerService(disk, cache);

sync.setOnStatusChange((status, result) => {
  console.log('–°—Ç–∞—Ç—É—Å:', status, result);
});

await sync.sync();            // –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è
sync.startAutoSync(30000);    // –ê–≤—Ç–æ-—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è
sync.stopAutoSync();          // –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å
```

---

**–í–µ—Ä—Å–∏—è –ø—Ä–æ—Ç–æ—Ç–∏–ø–∞:** 0.4  
**–î–∞—Ç–∞:** –§–µ–≤—Ä–∞–ª—å 2026
